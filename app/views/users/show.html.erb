<main>
<div class="container mt-3 px-5 px-sm-0">
  
    <!--エラーメッセージ-->
    <% if @book_new.errors.any? %>
    <h3><%= @book_new.errors.count %> error prohibited this obj from being saved:</h3>
    <ul>
      <% @book_new.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
    <% end %>
    
  <div class="row">
    <!-- ユーザーの詳細 -->
    <%= render 'books/list', book: @book, user: @user, book_new: @book_new %>
    
     <div class="col-md-8 offset-md-1">

      <!-- 投稿された本の一覧を表示 -->
      <h2>Books</h2>
      <table class="table table-hover">
        <thead>
          <tr>
            <th></th>      <!-- プロフィール画像用 -->
            <th>Title</th>
            <th>Opinion</th>
          </tr>
        </thead>
        <!-- 投稿された本の一覧を表示 -->
        <tbody>
          <% @books.each do |book| %>
            <tr>  <!-- 各本の情報を<tr>で包む -->
              <td>
                <%= link_to user_path(@user.id) do %>
                  <%= image_tag @user.get_profile_image(80, 80) %>
                <% end %>
              </td>
              <td><%= link_to book.title, book_path(book) %></td>
              <td><%= book.body %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
</main>
